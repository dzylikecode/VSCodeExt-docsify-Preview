<!--injected by docsify preivew-->
<script>
  const websocket = new WebSocket("ws://" + document.location.host);

  websocket.onmessage = (event) => {
    let message = JSON.parse(event.data);
    switch (message.command) {
      case "scroll":
        updateScroll(+message.linePercent);
        break;
      case "reload":
        reloadWindow();
        break;
    }
  };

  function updateScroll(linePercent) {
    const nextPosition = document.body.scrollHeight * linePercent;
    window.scroll(0, Math.ceil(nextPosition));
  }
  function reloadWindow() {
    const currScroll = document.scrollingElement.scrollTop;
    window.onload = () => {
      window.scroll(0, currScroll);
    };
    document.location.reload();
  }
</script>
